package io.mywish.dream.model.contracts;

import java.math.BigInteger;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.HashMap;
import java.util.List;
import org.web3j.abi.EventEncoder;
import org.web3j.abi.EventValues;
import org.web3j.abi.FunctionEncoder;
import org.web3j.abi.TypeReference;
import org.web3j.abi.datatypes.Address;
import org.web3j.abi.datatypes.Bool;
import org.web3j.abi.datatypes.Event;
import org.web3j.abi.datatypes.Function;
import org.web3j.abi.datatypes.Type;
import org.web3j.abi.datatypes.generated.Uint256;
import org.web3j.crypto.Credentials;
import org.web3j.protocol.Web3j;
import org.web3j.protocol.core.DefaultBlockParameter;
import org.web3j.protocol.core.RemoteCall;
import org.web3j.protocol.core.methods.request.EthFilter;
import org.web3j.protocol.core.methods.response.Log;
import org.web3j.protocol.core.methods.response.TransactionReceipt;
import org.web3j.tx.Contract;
import org.web3j.tx.TransactionManager;
import rx.Observable;
import rx.functions.Func1;

/**
 * <p>Auto generated code.
 * <p><strong>Do not modify!</strong>
 * <p>Please use the <a href="https://docs.web3j.io/command_line.html">web3j command line tools</a>,
 * or the org.web3j.codegen.SolidityFunctionWrapperGenerator in the 
 * <a href="https://github.com/web3j/web3j/tree/master/codegen">codegen module</a> to update.
 *
 * <p>Generated with web3j version 3.1.0.
 */
public final class TicketSale extends Contract {
    private static final String BINARY = "0x6060604052341561000f57600080fd5b60405160208061165383398101604052808051600160a060020a0333166000908152602081905260408120805460ff19166001179055909250905042821161005657600080fd5b50426276a7000180821061006957600080fd5b61007161020c565b604051809103906000f080151561008757600080fd5b60018054600160a060020a031916600160a060020a0392831617908190551663cf12e870336040517c010000000000000000000000000000000000000000000000000000000063ffffffff8416028152600160a060020a039091166004820152602401600060405180830381600087803b151561010357600080fd5b6102c65a03f1151561011457600080fd5b5050508061012061021c565b908152602001604051809103906000f080151561013c57600080fd5b60028054600160a060020a031916600160a060020a0392831617908190551663cf12e870336040517c010000000000000000000000000000000000000000000000000000000063ffffffff8416028152600160a060020a039091166004820152602401600060405180830381600087803b15156101b857600080fd5b6102c65a03f115156101c957600080fd5b50506002805463ffffffff909416740100000000000000000000000000000000000000000260a060020a63ffffffff0219909416939093179092555061022c9050565b60405161051280610a8a83390190565b6040516106b780610f9c83390190565b61084f8061023b6000396000f30060606040526004361061008a5763ffffffff60e060020a6000350416630df7160281146100b95780632f366637146100cf578063590e1ae3146100da57806381f4f9bf146100ed57806385a2dd151461011c5780638823da6c14610143578063a4fd6f5614610162578063a8a415df14610175578063cf12e8701461018e578063d56b2889146101ad575b6100926101c0565b1561009c57600080fd5b6100b733346100b281600263ffffffff6101e616565b610211565b005b34156100c457600080fd5b6100b760043561037e565b6100b7600435610513565b34156100e557600080fd5b6100b7610533565b34156100f857600080fd5b610100610599565b604051600160a060020a03909116815260200160405180910390f35b341561012757600080fd5b61012f6105a8565b604051901515815260200160405180910390f35b341561014e57600080fd5b6100b7600160a060020a03600435166105c7565b341561016d57600080fd5b61012f6101c0565b341561018057600080fd5b6100b76004356024356105fb565b341561019957600080fd5b6100b7600160a060020a0360043516610719565b34156101b857600080fd5b6100b7610750565b60025474010000000000000000000000000000000000000000900463ffffffff16421190565b600082820283158061020257508284828115156101ff57fe5b04145b151561020a57fe5b9392505050565b6000808067016345785d8a000085101561022a57600080fd5b8484101561023757600080fd5b67016345785d8a00008506925082850391506102618267016345785d8a000063ffffffff61080c16565b600154909150600160a060020a031663cecc33e787838760405160e060020a63ffffffff8616028152600160a060020a03909316600484015260248301919091526044820152606401600060405180830381600087803b15156102c357600080fd5b6102c65a03f115156102d457600080fd5b5050600254600160a060020a0316905063f340fa01838860405160e060020a63ffffffff8516028152600160a060020a0390911660048201526024016000604051808303818588803b151561032857600080fd5b6125ee5a03f1151561033957600080fd5b505084159150610376905057600160a060020a03331683156108fc0284604051600060405180830381858888f19350505050151561037657600080fd5b505050505050565b600080600061038b6105a8565b151561039657600080fd5b61039e6101c0565b15156103a957600080fd5b600154600160a060020a03166314f2979f8560006040516060015260405160e060020a63ffffffff84160281526004810191909152602401606060405180830381600087803b15156103fa57600080fd5b6102c65a03f1151561040b57600080fd5b505050604051805190602001805190602001805192955090935090915050600160a060020a038316151561043e57600080fd5b600154600160a060020a031663d9fca7698460405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401600060405180830381600087803b151561048e57600080fd5b6102c65a03f1151561049f57600080fd5b5050600254600160a060020a0316905063bfac4371848360405160e060020a63ffffffff8516028152600160a060020a0390921660048301526024820152604401600060405180830381600087803b15156104f957600080fd5b6102c65a03f1151561050a57600080fd5b50505050505050565b61051b6101c0565b1561052557600080fd5b610530333483610211565b50565b600254600160a060020a031663fa89401a3360405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401600060405180830381600087803b151561058357600080fd5b6102c65a03f1151561059457600080fd5b505050565b600154600160a060020a031681565b600160a060020a03331660009081526020819052604090205460ff1690565b6105cf6105a8565b15156105da57600080fd5b600160a060020a03166000908152602081905260409020805460ff19169055565b60008060006106086105a8565b151561061357600080fd5b600154600160a060020a03166314f2979f8660006040516060015260405160e060020a63ffffffff84160281526004810191909152602401606060405180830381600087803b151561066457600080fd5b6102c65a03f1151561067557600080fd5b505050604051805190602001805190602001805192955090935090915050600160a060020a03831615156106a857600080fd5b600254600160a060020a031663bfac4371848660405160e060020a63ffffffff8516028152600160a060020a0390921660048301526024820152604401600060405180830381600087803b15156106fe57600080fd5b6102c65a03f1151561070f57600080fd5b5050505050505050565b6107216105a8565b151561072c57600080fd5b600160a060020a03166000908152602081905260409020805460ff19166001179055565b6107586105a8565b151561076357600080fd5b600254427401000000000000000000000000000000000000000090910463ffffffff1611156107cd576002805477ffffffff00000000000000000000000000000000000000001916740100000000000000000000000000000000000000004263ffffffff16021790555b600254600160a060020a03166389e423466040518163ffffffff1660e060020a028152600401600060405180830381600087803b151561058357600080fd5b600080828481151561081a57fe5b049493505050505600a165627a7a723058205dcef0fe1c752f526bee9280911ca3b832fe4cbd1a0f0b921504016e6d90a346002960606040908152600160a060020a0333166000908152602081905220805460ff191660011790556104dd806100356000396000f30060606040526004361061008d5763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166314f2979f811461009257806385a2dd15146100de5780638823da6c14610105578063a76594bf14610126578063cecc33e71461014b578063cf12e87014610170578063d9fca7691461018f578063dd11247e146101ae575b600080fd5b341561009d57600080fd5b6100a86004356101de565b6040518084600160a060020a0316600160a060020a03168152602001838152602001828152602001935050505060405180910390f35b34156100e957600080fd5b6100f161025c565b604051901515815260200160405180910390f35b341561011057600080fd5b610124600160a060020a036004351661027c565b005b341561013157600080fd5b6101396102b0565b60405190815260200160405180910390f35b341561015657600080fd5b610124600160a060020a03600435166024356044356102b6565b341561017b57600080fd5b610124600160a060020a03600435166103d4565b341561019a57600080fd5b610124600160a060020a036004351661040b565b34156101b957600080fd5b6101c161045a565b60405167ffffffffffffffff909116815260200160405180910390f35b600080600080600380549050600014156101f757610254565b6003546000190185111561020a57610254565b600380548690811061021857fe5b6000918252602080832090910154600160a060020a0316808352600290915260409091208054600182015492965063ffffffff16945090925090505b509193909250565b600160a060020a03331660009081526020819052604090205460ff165b90565b61028461025c565b151561028f57600080fd5b600160a060020a03166000908152602081905260409020805460ff19169055565b60035490565b60006102c061025c565b15156102cb57600080fd5b6401000000008311156102da57fe5b50600160a060020a0383166000908152600260205260409020805463ffffffff1615156103755781151561030d57600080fd5b60038054825463ffffffff9091166401000000000267ffffffff0000000019909116178255805460018101610342838261046a565b506000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0386161790555b805463ffffffff19811663ffffffff9182168501821617808355168390101561039d57600080fd5b6001805467ffffffffffffffff80821686011667ffffffffffffffff1990911617905581156103ce57600181018290555b50505050565b6103dc61025c565b15156103e757600080fd5b600160a060020a03166000908152602081905260409020805460ff19166001179055565b600061041561025c565b151561042057600080fd5b50600160a060020a0381166000908152600260205260409020805463ffffffff16151561044c57600080fd5b805463ffffffff1916905550565b60015467ffffffffffffffff1681565b81548183558181151161048e5760008381526020902061048e918101908301610493565b505050565b61027991905b808211156104ad5760008155600101610499565b50905600a165627a7a72305820c740cd51346f33141e33eac1d96bf5a7476b29cc90ff8f6d81f1b1921e5d079200296060604052341561000f57600080fd5b6040516020806106b783398101604052808051600160a060020a0333166000908152602081905260409020805460ff191660011790556004805463ffffffff90921663ffffffff199092169190911790555050610646806100716000396000f3006060604052600436106100b95763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416631a39d8ef81146100be57806327e235e3146100e35780633ccfd60b14610102578063590e1ae31461011757806385a2dd151461012a5780638823da6c1461015157806389e4234614610170578063acde5d2814610183578063bfac4371146101a2578063cf12e870146101c4578063f340fa01146101e3578063fa89401a146101f7575b600080fd5b34156100c957600080fd5b6100d1610216565b60405190815260200160405180910390f35b34156100ee57600080fd5b6100d1600160a060020a036004351661021c565b341561010d57600080fd5b61011561022e565b005b341561012257600080fd5b610115610280565b341561013557600080fd5b61013d610289565b604051901515815260200160405180910390f35b341561015c57600080fd5b610115600160a060020a03600435166102a8565b341561017b57600080fd5b6101156102dc565b341561018e57600080fd5b6100d1600160a060020a036004351661031d565b34156101ad57600080fd5b610115600160a060020a03600435166024356103a4565b34156101cf57600080fd5b610115600160a060020a036004351661047e565b610115600160a060020a03600435166104b5565b341561020257600080fd5b610115600160a060020a0360043516610527565b60025481565b60016020526000908152604090205481565b610236610289565b151561024157600080fd5b33600160a060020a03166108fc30600160a060020a0316319081150290604051600060405180830381858888f19350505050151561027e57600080fd5b565b61027e33610527565b600160a060020a03331660009081526020819052604090205460ff1690565b6102b0610289565b15156102bb57600080fd5b600160a060020a03166000908152602081905260409020805460ff19169055565b6102e4610289565b15156102ef57600080fd5b60045463ffffffff42811691161161030657600080fd5b6004805463ffffffff19164263ffffffff16179055565b600160a060020a0381166000908152600160205260408120546003546002548391829161034f9163ffffffff6105c916565b60025490925061037d9061037185670de0b6b3a764000063ffffffff6105df16565b9063ffffffff61060316565b905061039b670de0b6b3a7640000610371848463ffffffff6105df16565b95945050505050565b6103ac610289565b15156103b757600080fd5b600160a060020a03301631819010156103cf57600080fd5b600160a060020a0382166000908152600160205260409020541580159061040f5750600160a060020a038216600090815260016020526040902054819011155b151561041a57600080fd5b600160a060020a038216600090815260016020526040812055600354610446908263ffffffff6105c916565b600355600160a060020a03821681156108fc0282604051600060405180830381858888f19350505050151561047a57600080fd5b5050565b610486610289565b151561049157600080fd5b600160a060020a03166000908152602081905260409020805460ff19166001179055565b60006104bf610289565b15156104ca57600080fd5b50600160a060020a0381166000908152600160205260409020546104f4813463ffffffff6105c916565b600160a060020a038316600090815260016020526040902055600254610520903463ffffffff6105c916565b6002555050565b6000610531610289565b151561053c57600080fd5b60045463ffffffff4281169116101561055457600080fd5b600160a060020a038216600090815260016020526040902054151561057857600080fd5b6105818261031d565b600160a060020a038316600081815260016020526040808220919091559192509082156108fc0290839051600060405180830381858888f19350505050151561047a57600080fd5b6000828201838110156105d857fe5b9392505050565b60008282028315806105fb57508284828115156105f857fe5b04145b15156105d857fe5b600080828481151561061157fe5b049493505050505600a165627a7a72305820394cc816d056d46765b51765ced5be024372513a39dbd2c0d4276a31a7eea5570029";

    protected static final HashMap<String, String> _addresses;

    static {
        _addresses = new HashMap<>();
    }

    private TicketSale(String contractAddress, Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {
        super(BINARY, contractAddress, web3j, credentials, gasPrice, gasLimit);
    }

    private TicketSale(String contractAddress, Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {
        super(BINARY, contractAddress, web3j, transactionManager, gasPrice, gasLimit);
    }

    public List<TicketPurchaseEventResponse> getTicketPurchaseEvents(TransactionReceipt transactionReceipt) {
        final Event event = new Event("TicketPurchase", 
                Arrays.<TypeReference<?>>asList(new TypeReference<Address>() {}),
                Arrays.<TypeReference<?>>asList(new TypeReference<Uint256>() {}, new TypeReference<Uint256>() {}));
        List<EventValues> valueList = extractEventParameters(event, transactionReceipt);
        ArrayList<TicketPurchaseEventResponse> responses = new ArrayList<TicketPurchaseEventResponse>(valueList.size());
        for (EventValues eventValues : valueList) {
            TicketPurchaseEventResponse typedResponse = new TicketPurchaseEventResponse();
            typedResponse.purchaser = (String) eventValues.getIndexedValues().get(0).getValue();
            typedResponse.value = (BigInteger) eventValues.getNonIndexedValues().get(0).getValue();
            typedResponse.amount = (BigInteger) eventValues.getNonIndexedValues().get(1).getValue();
            responses.add(typedResponse);
        }
        return responses;
    }

    public Observable<TicketPurchaseEventResponse> ticketPurchaseEventObservable(DefaultBlockParameter startBlock, DefaultBlockParameter endBlock) {
        final Event event = new Event("TicketPurchase", 
                Arrays.<TypeReference<?>>asList(new TypeReference<Address>() {}),
                Arrays.<TypeReference<?>>asList(new TypeReference<Uint256>() {}, new TypeReference<Uint256>() {}));
        EthFilter filter = new EthFilter(startBlock, endBlock, getContractAddress());
        filter.addSingleTopic(EventEncoder.encode(event));
        return web3j.ethLogObservable(filter).map(new Func1<Log, TicketPurchaseEventResponse>() {
            @Override
            public TicketPurchaseEventResponse call(Log log) {
                EventValues eventValues = extractEventParameters(event, log);
                TicketPurchaseEventResponse typedResponse = new TicketPurchaseEventResponse();
                typedResponse.purchaser = (String) eventValues.getIndexedValues().get(0).getValue();
                typedResponse.value = (BigInteger) eventValues.getNonIndexedValues().get(0).getValue();
                typedResponse.amount = (BigInteger) eventValues.getNonIndexedValues().get(1).getValue();
                return typedResponse;
            }
        });
    }

    public RemoteCall<TransactionReceipt> setWinner(BigInteger _playerIndex) {
        Function function = new Function(
                "setWinner", 
                Arrays.<Type>asList(new org.web3j.abi.datatypes.generated.Uint256(_playerIndex)), 
                Collections.<TypeReference<?>>emptyList());
        return executeRemoteCallTransaction(function);
    }

    public RemoteCall<TransactionReceipt> buyTickets(BigInteger _dreamAmount, BigInteger weiValue) {
        Function function = new Function(
                "buyTickets", 
                Arrays.<Type>asList(new org.web3j.abi.datatypes.generated.Uint256(_dreamAmount)), 
                Collections.<TypeReference<?>>emptyList());
        return executeRemoteCallTransaction(function, weiValue);
    }

    public RemoteCall<TransactionReceipt> refund() {
        Function function = new Function(
                "refund", 
                Arrays.<Type>asList(), 
                Collections.<TypeReference<?>>emptyList());
        return executeRemoteCallTransaction(function);
    }

    public RemoteCall<String> ticketHolder() {
        Function function = new Function("ticketHolder", 
                Arrays.<Type>asList(), 
                Arrays.<TypeReference<?>>asList(new TypeReference<Address>() {}));
        return executeRemoteCallSingleValueReturn(function, String.class);
    }

    public RemoteCall<Boolean> hasAccess() {
        Function function = new Function("hasAccess", 
                Arrays.<Type>asList(), 
                Arrays.<TypeReference<?>>asList(new TypeReference<Bool>() {}));
        return executeRemoteCallSingleValueReturn(function, Boolean.class);
    }

    public RemoteCall<TransactionReceipt> removeAccess(String _addr) {
        Function function = new Function(
                "removeAccess", 
                Arrays.<Type>asList(new org.web3j.abi.datatypes.Address(_addr)), 
                Collections.<TypeReference<?>>emptyList());
        return executeRemoteCallTransaction(function);
    }

    public RemoteCall<Boolean> isEnded() {
        Function function = new Function("isEnded", 
                Arrays.<Type>asList(), 
                Arrays.<TypeReference<?>>asList(new TypeReference<Bool>() {}));
        return executeRemoteCallSingleValueReturn(function, Boolean.class);
    }

    public RemoteCall<TransactionReceipt> payPrize(BigInteger _playerIndex, BigInteger _amountWei) {
        Function function = new Function(
                "payPrize", 
                Arrays.<Type>asList(new org.web3j.abi.datatypes.generated.Uint256(_playerIndex), 
                new org.web3j.abi.datatypes.generated.Uint256(_amountWei)), 
                Collections.<TypeReference<?>>emptyList());
        return executeRemoteCallTransaction(function);
    }

    public RemoteCall<TransactionReceipt> giveAccess(String _addr) {
        Function function = new Function(
                "giveAccess", 
                Arrays.<Type>asList(new org.web3j.abi.datatypes.Address(_addr)), 
                Collections.<TypeReference<?>>emptyList());
        return executeRemoteCallTransaction(function);
    }

    public RemoteCall<TransactionReceipt> finish() {
        Function function = new Function(
                "finish", 
                Arrays.<Type>asList(), 
                Collections.<TypeReference<?>>emptyList());
        return executeRemoteCallTransaction(function);
    }

    public static RemoteCall<TicketSale> deploy(Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit, BigInteger _endDate) {
        String encodedConstructor = FunctionEncoder.encodeConstructor(Arrays.<Type>asList(new org.web3j.abi.datatypes.generated.Uint256(_endDate)));
        return deployRemoteCall(TicketSale.class, web3j, credentials, gasPrice, gasLimit, BINARY, encodedConstructor);
    }

    public static RemoteCall<TicketSale> deploy(Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit, BigInteger _endDate) {
        String encodedConstructor = FunctionEncoder.encodeConstructor(Arrays.<Type>asList(new org.web3j.abi.datatypes.generated.Uint256(_endDate)));
        return deployRemoteCall(TicketSale.class, web3j, transactionManager, gasPrice, gasLimit, BINARY, encodedConstructor);
    }

    public static TicketSale load(String contractAddress, Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {
        return new TicketSale(contractAddress, web3j, credentials, gasPrice, gasLimit);
    }

    public static TicketSale load(String contractAddress, Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {
        return new TicketSale(contractAddress, web3j, transactionManager, gasPrice, gasLimit);
    }

    protected String getStaticDeployedAddress(String networkId) {
        return _addresses.get(networkId);
    }

    public static class TicketPurchaseEventResponse {
        public String purchaser;

        public BigInteger value;

        public BigInteger amount;
    }
}
